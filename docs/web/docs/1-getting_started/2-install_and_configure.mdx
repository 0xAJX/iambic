---
title: Install and Configure
toc_min_heading_level: 2
toc_max_heading_level: 5
---

import AsciinemaWidget from '../../src/components/AsciinemaWidget';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';


### Prerequisites

- AWS account ID(s)
- AWS organization ID (if applicable)
- AWS IAM credentials with admin privileges
- Knowledge on [AWS Hub and Spoke Roles](/reference/aws_hub_and_spoke_roles)

If using AWS Organizations, [enable CloudFormation StackSets trusted access](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-orgs-enable-trusted-access.html).

### Configure AWS IAM credentials

Before proceeding, configure AWS credentials with
administrative access to your AWS Organization management account.
If you are not using AWS organizations, or prefer to set up in a test environment first, retrieve administrative
access to that account.

If required by your organization, you may refer to a list of
[specific permissions](/reference/aws_permissions_for_setup_wizard) required to run the wizard to set up
a scoped role.

Refer to the [AWS documentation](https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-envvars.html)
for specific guidance on configuring credentials.

### Set up the Github Repositories

To get started with IAMbic, we're going to create Github repositories repository to store IAMbic templates for importing your cloud resources.
IAMbic provides GitHub workflows that keep IAM identities and permissions updated within your repository.

1. Open a terminal and navigate to a location where you're comfortable creating directories for your Git repositories.

2. Set an enviroment variable containing your Github Organization name, or if you are not using an organization, your Github username:

```bash
export ORG_NAME=<your_github_organization_name>
```

<Tabs>
<TabItem value="gh_cli" label="GitHub CLI" default>
3. Run the following commands to create the `iambic-templates` and `iambic-templates-gist` repositories required by IAMbic, and to install iambic locally
in a Python virtual environment.

```bash
gh repo create "${ORG_NAME}/iambic-templates" \
  --private --template noqdev/github-iambic-templates
gh repo create "${ORG_NAME}/iambic-templates-gist" \
  --private --template noqdev/github-iambic-templates-gist
gh repo clone ${ORG_NAME}/iambic-templates
cd iambic-templates
python3 -m venv venv
source venv/bin/activate
pip install iambic-core
```
</TabItem>
<TabItem value="gh_web" label="GitHub Web UI">
3. Create the `iambic-templates` and `iambic-templates-gist` repositories required by IAMbic by visiting the following links.

:::danger

Set these repositories to **Private**, and name them `iambic-templates` and `iambic-templates-gist`
respecitvely

:::

- [Click here to install the `iambic-templates` repository](https://github.com/noqdev/github-iambic-templates/generate)
- [Click here to install the `iambic-templates-gist` repository](https://github.com/noqdev/github-iambic-templates-gist/generate)

4. Clone the `iambic-templates` repository and install IAMbic locally in a Python virtual environment.

```bash
gh repo clone ${ORG_NAME}/iambic-templates
cd iambic-templates
python3 -m venv venv
source venv/bin/activate
pip install iambic-core
```
</TabItem>
</Tabs>

*Note*: No need to clone `iambic-templates-gist`. It'll be used later.

### Configuring IAMbic

Run the following command to launch the IAMbic setup wizard and configure IAMbic for your
desired providers:

```bash
iambic setup
```

<AsciinemaWidget src="/recordings/iambic_setup.cast" rows={30} idleTimeLimit={3} preload={true} />

Alternatively, you can [create the configuration manually](/how_to_guides/manually_create_the_configuration).

### Setup Github Application

IAMbic uses a Github Application to manage the Github workflows that keep your IAM resources up to date.
The Github Application is installed on your Github Organization or Github User account.

* You need GitHub org admin permissions to create a GitHub app in your organization
* You need AWS administrator permissions with the ability to assume IambicHubRole in the management account, and AWS administrator permissions to deploy the IAMbic GitHub integration.

```bash
iambic setup
```

* Select `Setup GitHub App Integration using AWS Lambda` option
* When you install the application, give it access to your `iambic-templates`
and `iambic-templates-gist` repositories. **Do not** give it access to all repositories.

See below for a video walkthrough of this flow:

[![Setup IAMbic GitHub Integration](https://img.youtube.com/vi/3PikJZ0pW8A/0.jpg)](https://youtu.be/3PikJZ0pW8A)

### Adding imported resources to your repository

After running the setup wizard and successfully adding a provider, you will have new files in your local directory
that will need to be committed to your GitHub repository.

Run `git status` to confirm the changes you're about to commit. Once you're comfortable with the changes,
run the following commands to commit and push the changes to your repository:

```bash
git add .
git commit -m "Add imported resources"
git push
```

### Next Steps

Now that you have IAMbic installed and configured, you're ready to move on to the next steps.
Depending on your goals, you may configure IAMbic to work with any number of identity providers.

- [Continue with AWS IAM](./aws)
- [Continue with Okta Organizations](./okta)
- [Continue with Azure Active Directory](./azure_ad)
- [Continue with Google Groups](./google)
